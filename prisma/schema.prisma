generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Item {
  id          String     @id @map("_id") @db.ObjectId
  name        String
  description String?
  price       Float
  purchases   Purchase[]
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
}

model Purchase {
  id            String   @id @map("_id") @db.ObjectId
  itemId        String
  itemName      String
  itemPrice     Float
  quantity      Int
  totalPrice    Float
  userName      String?
  userEmail     String?
  streetAddress String
  floorAndDoor  String?
  city          String
  postalCode    String
  phoneNumber   String
  purchasedAt   DateTime @default(now())

  item Item @relation(fields: [itemId], references: [id])
}
